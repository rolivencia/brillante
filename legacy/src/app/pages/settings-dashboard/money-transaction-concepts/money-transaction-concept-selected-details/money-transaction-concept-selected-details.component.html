<div class="d-flex justify-content-between align-items-center">
    @if (!concept || itemsSource.length === 0) {
    <label
        >El concepto de primera jerarquía no tiene subconceptos hijos. Pueden agregarse clickeando <b>"Agregar"</b> a la
        derecha.</label
    >
    } @if (concept && itemsSource.length > 0) {
    <ng-container [formGroup]="form">
        <div class="pe-2">
            <label
                ><b>{{ label }}:</b></label
            >
            <div class="input-group input-group-sm">
                @if (!showSiblingsGrid && !editMode && !addMode) {
                <ejs-dropdownlist
                    formControlName="idSelectedConcept"
                    [contentEditable]="false"
                    [fields]="moneyTransactionFields"
                    [dataSource]="itemsSource"
                    (change)="onSelectionChange($event)"
                >
                </ejs-dropdownlist>
                } @if (showSiblingsGrid || editMode || addMode) {
                <label class="mb-0">{{ concept.description }}</label>
                }
            </div>
        </div>
        <div class="px-2">
            <label><b>ID:</b></label>
            <div class="input-group input-group-sm">
                <label class="mb-0">{{ concept.id }}</label>
            </div>
        </div>
        <div class="px-2">
            <label><b>Tipo:</b></label>
            <div class="input-group input-group-sm">
                <label class="mb-0">{{ concept.transactionType.description }}</label>
            </div>
        </div>
        <div class="px-2">
            <label><b>Modificable:</b></label>
            <div class="input-group input-group-sm">
                <label class="mb-0">{{ concept.modifiable ? 'Sí' : 'No' }}</label>
            </div>
        </div>
        <div class="px-2">
            <label><b>Asignable:</b></label>
            <div class="input-group input-group-sm">
                <label class="mb-0">{{ concept.userAssignable ? 'Sí' : 'No' }}</label>
            </div>
        </div>
        <div class="px-2">
            <label><b>Status:</b></label>
            <div class="input-group input-group-sm">
                <label class="mb-0">{{ concept.enabled ? 'Habilitado' : 'Deshabilitado' }}</label>
            </div>
        </div>
    </ng-container>
    } @if (!addMode && !editMode) {
    <div class="d-block">
        <!-- Agregado de nuevas -->
        <button class="btn btn-block btn-sm btn-outline-success" type="button" (click)="enableAddMode()">
            Agregar
        </button>
        @if (concept && itemsSource.length > 0 && concept?.modifiable) {
        <button class="btn btn-block btn-sm btn-outline-primary mx-3" type="button" (click)="enableEditMode()">
            Editar
        </button>
        <!-- Habilitar/Deshabilitar -->
        <!-- TODO: Enable the trigger status feature -->
        @if (concept.modifiable) {
        <button
            [ngClass]="{ 'btn-outline-danger': concept.enabled, 'btn-outline-info': !concept.enabled }"
            class="btn btn-block btn-sm"
            type="button"
            (click)="toggleStatus()"
        >
            {{ concept.enabled ? 'Deshabilitar' : 'Habilitar' }}
        </button>
        } }
    </div>
    }
</div>
