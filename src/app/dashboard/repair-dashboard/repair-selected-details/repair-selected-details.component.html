<div class="card">
    <div class="card-header">
        <div class="d-flex justify-content-between">
            <button class="btn btn-sm btn-outline-success" (click)="add()">
                ‚ûï Agregar
            </button>
        </div>
        <div class="d-flex justify-content-between mt-2" *ngIf="repairDashboardService.selectedRepair">
            <button class="btn btn-sm btn-outline-primary" (click)="goToUpdate(repairDashboardService.selectedRepair.repairId)">
                üõ†Ô∏è Actualizar (Sistema viejo)
            </button>
            <button type="button" class="btn btn-sm btn-outline-danger" (click)="open(deleteModal)">
                ‚ùå Eliminar
            </button>
        </div>
    </div>
    <div class="card-body">
        <ng-container *ngIf="repairDashboardService.selectedRepair">
            <p class="mb-0">
                <strong>ID Reparaci√≥n: </strong>
                {{ repairDashboardService.selectedRepair.repairId }}
            </p>
            <hr />
            <p>
                <strong>Cliente: </strong>
                {{ repairDashboardService.selectedRepair.nombreApellidoCliente }}
            </p>
            <p><strong>eMail: </strong> {{ repairDashboardService.selectedRepair.emailCliente }}</p>
            <p><strong>Tel√©fono: </strong> {{ repairDashboardService.selectedRepair.telefonoCliente }}</p>
            <hr />
            <p><strong>Modelo: </strong> {{ repairDashboardService.selectedRepair.modelo }}</p>
            <p><strong>Estado: </strong>{{ repairDashboardService.selectedRepair.estado }}</p>
            <p><strong>IMEI: </strong>{{ repairDashboardService.selectedRepair.imei }}</p>
            <p>
                <strong>Encendido: </strong>
                <input type="checkbox" class="form-check-input" disabled [ngModel]="repairDashboardService.selectedRepair.encendido" />
            </p>
            <hr />
            <p><strong>Problema: </strong>{{ repairDashboardService.selectedRepair.problema }}</p>
            <hr />
            <p><strong>Fecha de Ingreso: </strong>{{ repairDashboardService.selectedRepair.fechaIngreso }}</p>
            <p><strong>√öltima Actualizaci√≥n: </strong>{{ repairDashboardService.selectedRepair.fechaUltimaActualizacion }}</p>
            <p *ngIf="repairDashboardService.selectedRepair.fechaReparacionTerminada">
                <strong>Fecha de T√©rmino: </strong>{{ repairDashboardService.selectedRepair.fechaReparacionTerminada }}
            </p>
            <hr />
            <p><strong>Costo de Reparaci√≥n: </strong>{{ repairDashboardService.selectedRepair.costoReparacion }}</p>
            <p><strong>Precio de Reparaci√≥n: </strong>{{ repairDashboardService.selectedRepair.precioReparacion }}</p>
        </ng-container>
        <ng-container *ngIf="!repairDashboardService.selectedRepair">
            <p>Para ver los detalles, seleccione una reparaci√≥n de la grilla</p>
            <hr />
        </ng-container>
    </div>
</div>

<ng-template #deleteModal let-modal>
    <div class="modal-header">
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body text-center">
        <p><b>¬øEst√° seguro de que desea borrar la reparaci√≥n?</b></p>
        <p class="mb-0"><strong>ID Reparaci√≥n: </strong> {{ repairDashboardService.selectedRepair.repairId }}</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-sm btn-outline-secondary" (click)="modal.close('Cancel')">
            ‚¨ÖÔ∏èÔ∏è Cancelar
        </button>
        <button class="ml-3 btn btn-sm btn-outline-danger" (click)="delete(repairDashboardService.selectedRepair.repairId)">
            ‚ùå Eliminar
        </button>
    </div>
</ng-template>
